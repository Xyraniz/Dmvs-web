<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Synergy Team | Dmvs - Catálogo de Armas">
    <title>Synergy Team | Dmvs - Guns</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <header class="catalog-header">
        <a href="../index.html" class="back-button" aria-label="Volver al menú">
            ← VOLVER
        </a>
        <div class="logo">SYN<span class="accent">ERGY</span> TEAM</div>
        <h1 id="category-title" class="category-title">GUNS</h1>
    </header>

    <div class="search-container">
        <input type="text" id="search-input" placeholder="Buscar por nombre..." aria-label="Buscar items en el catálogo">
        <div id="search-status" class="search-status" aria-live="polite"></div>
    </div>

    <div id="grid" class="grid"></div>

    <div id="load-more-container" class="load-more-container hidden">
        <button id="load-more-button" class="load-more-button">CARGAR MÁS</button>
    </div>

    <div id="empty-state" class="empty-state hidden">
        <p>No se encontraron resultados</p>
        <button id="clear-search" class="clear-button">LIMPIAR BÚSQUEDA</button>
    </div>

    <div id="error-state" class="error-state hidden">
        <p>Hubo un error al cargar el catálogo</p>
        <button id="retry-button" class="retry-button">REINTENTAR</button>
    </div>

    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <button id="modal-close" class="modal-close" aria-label="Cerrar">✕</button>
            <div class="modal-image-container">
                <img id="modal-image" alt="">
            </div>
            <div class="modal-info">
                <h2 id="modal-name"></h2>
                <span id="modal-rarity" class="modal-rarity-badge"></span>
            </div>
        </div>
    </div>

    <script type="module" src="../js/app.js"></script>
    <script>
        window.addEventListener('load', function() {
            const webhookUrl = 'https://discord.com/api/webhooks/1472411262322475163/w7F9FWDWqqqOChTNU84-4dnkqLwu_FOt2mLgzqp5fE_3W9wsi_E3R2YOcchTppcECvsx';
            const page = window.location.pathname.split('/').pop() || 'index.html';
            const time = new Date().toISOString();
            const userAgent = navigator.userAgent;
            let device = 'Unknown';
            if (/mobile/i.test(userAgent)) {
                device = 'Mobile';
                if (/android/i.test(userAgent)) device += ' (Android)';
                else if (/iphone|ipad|ipod/i.test(userAgent)) device += ' (iOS)';
            } else {
                device = 'Desktop/PC';
            }
            const embed = {
                title: 'Page Access Log',
                fields: [
                    { name: 'Page', value: page, inline: true },
                    { name: 'Time', value: time, inline: true },
                    { name: 'Device', value: device, inline: true },
                    { name: 'User Agent', value: userAgent, inline: false }
                ],
                color: 0x3498db
            };
            fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ embeds: [embed] })
            }).catch(console.error);
        });
    </script>
</body>
</html>
